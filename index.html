<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Malla Interactiva Â· Profesorado de InglÃ©s</title>
  <style>
    :root{
      --green-900:#2f6f4e;
      --green-600:#6fbf9c;
      --green-300:#c7ded3;
      --green-100:#e8f5ee;
      --bg:#f7fbf9;
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,'Helvetica Neue',Arial,sans-serif;background:var(--bg);color:#1f2937}
    header{padding:24px;text-align:center}
    header h1{margin:0 0 6px;font-size:1.6rem}
    header p{margin:0;color:#4b5563}
    main{padding:16px}
    .grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:16px}
    .year{background:white;border-radius:16px;box-shadow:0 10px 24px rgba(0,0,0,.06);overflow:hidden}
    .year h2{margin:0;padding:14px 16px;background:var(--green-900);color:white}
    .list{padding:12px;display:grid;gap:10px}
    .card{border-radius:14px;padding:12px 14px;background:var(--green-300);transition:.25s;display:flex;align-items:center;justify-content:space-between;gap:8px}
    .card.enabled{background:var(--green-100)}
    .card.done{background:var(--green-600);color:#0b3d2e}
    .card h3{margin:0;font-size:.95rem;font-weight:600}
    .card small{opacity:.8}
    .controls{display:flex;gap:6px}
    select{border-radius:10px;border:1px solid #d1d5db;padding:6px 8px;background:white}
    footer{padding:20px;text-align:center;color:#6b7280}
    .badge{font-size:.75rem;padding:4px 8px;border-radius:999px;background:#e5f2ec;color:#1b5e46}
  </style>
</head>
<body>
  <header>
    <h1>ðŸŒ¿ Malla Interactiva â€“ Profesorado de InglÃ©s</h1>
    <p>MarcÃ¡ materias y mirÃ¡ cÃ³mo se desbloquean las siguientes</p>
  </header>
  <main>
    <section class="grid" id="app"></section>
  </main>
  <footer>
    Hecho con ðŸ’š Â· Pensado para GitHub Pages
  </footer>

<script>
// ====== Datos ======
const data = [
  { year:'1Â° AÃ±o', items:[
    {id:'ped', name:'PedagogÃ­a'},
    {id:'tcd', name:'TeorÃ­a del CurrÃ­culum y DidÃ¡ctica'},
    {id:'psi', name:'PsicologÃ­a Educativa'},
    {id:'pca', name:'PsicologÃ­a y Cultura del Alumno'},
    {id:'li1', name:'Lengua Inglesa I'},
    {id:'gi1', name:'GramÃ¡tica Inglesa I'},
    {id:'fd1', name:'FonologÃ­a y DicciÃ³n I'},
    {id:'es1', name:'Estudios Sociales I'},
    {id:'td1', name:'Taller de Docencia I'}
  ]},
  { year:'2Â° AÃ±o', items:[
    {id:'hpe', name:'Historia y PolÃ­tica Educativa Argentina', req:['ped']},
    {id:'ogi', name:'OrganizaciÃ³n y GestiÃ³n Institucional', req:['ped']},
    {id:'psiL', name:'PsicolingÃ¼Ã­stica', req:['psi','li1','gi1']},
    {id:'li2', name:'Lengua Inglesa II', req:['li1']},
    {id:'gi2', name:'GramÃ¡tica Inglesa II', req:['gi1','li1']},
    {id:'fd2', name:'FonologÃ­a y DicciÃ³n II', req:['fd1','li1']},
    {id:'es2', name:'Estudios Sociales II', req:['es1','li1']},
    {id:'lit1', name:'Literatura en Lengua Inglesa I', req:['li1','es1']},
    {id:'td2', name:'Taller de Docencia II', req:['td1']}
  ]},
  { year:'3Â° AÃ±o', items:[
    {id:'fil', name:'FilosofÃ­a'},
    {id:'eti', name:'Ã‰tica Profesional'},
    {id:'li3', name:'Lengua Inglesa III', req:['li2','gi2','fd2']},
    {id:'fd3', name:'FonologÃ­a y DicciÃ³n III', req:['fd2','li2']},
    {id:'lit2', name:'Literatura en Lengua Inglesa II', req:['lit1','li2','es2']},
    {id:'ld', name:'LingÃ¼Ã­stica del Discurso', req:['li2','gi2','fd2']},
    {id:'de1', name:'DidÃ¡ctica EspecÃ­fica I', req:['li2','gi2','fd2','psiL']},
    {id:'edi', name:'EDI'},
    {id:'td3', name:'Taller de Docencia III', req:['td2']}
  ]},
  { year:'4Â° AÃ±o', items:[
    {id:'eco', name:'ECO I', req:['lit2','li3','fd3']},
    {id:'fd4', name:'FonologÃ­a y DicciÃ³n IV', req:['fd3']},
    {id:'li4', name:'Lengua Inglesa IV', req:['li3']},
    {id:'sis', name:'Seminario de IntegraciÃ³n y SÃ­ntesis', req:['td1','td2','td3']},
    {id:'td4', name:'Taller de Docencia IV', req:['td3']}
  ]}
];

// ====== Estado (localStorage) ======
const state = JSON.parse(localStorage.getItem('malla-state')||'{}');
const setState = (id,val)=>{state[id]=val; localStorage.setItem('malla-state',JSON.stringify(state)); render();};
const isDone = id => state[id]==='Aprobada';

// ====== LÃ³gica ======
const enabled = item => !item.req || item.req.every(r=>isDone(r));

// ====== Render ======
const app = document.getElementById('app');
function render(){
  app.innerHTML='';
  data.forEach(block=>{
    const y = document.createElement('section'); y.className='year';
    y.innerHTML = `<h2>${block.year}</h2>`;
    const list = document.createElement('div'); list.className='list';
    block.items.forEach(it=>{
      const card = document.createElement('div');
      const en = enabled(it);
      card.className = 'card ' + (en?'enabled':'') + (isDone(it.id)?' done':'');
      card.innerHTML = `
        <div>
          <h3>${it.name}</h3>
          ${it.req?`<small class="badge">Req: ${it.req.join(', ')}</small>`:''}
        </div>
        <div class="controls">
          <select ${en?'':'disabled'}>
            <option ${state[it.id]?'' :'selected'}></option>
            <option ${state[it.id]==='Pendiente'?'selected':''}>Pendiente</option>
            <option ${state[it.id]==='Regular'?'selected':''}>Regular</option>
            <option ${state[it.id]==='Aprobada'?'selected':''}>Aprobada</option>
          </select>
        </div>`;
      const sel = card.querySelector('select');
      sel.addEventListener('change',e=>setState(it.id,e.target.value));
      list.appendChild(card);
    });
    y.appendChild(list); app.appendChild(y);
  });
}
render();
</script>
</body>
</html>
