<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ðŸŒ¿ Mi Malla Â· Profesorado de InglÃ©s</title>
  <style>
    :root{
      --green-900:#1f4f3a;   /* tÃ­tulos */
      --green-700:#2f6f4e;   /* headers */
      --green-600:#5fbf9a;   /* aprobada */
      --green-400:#9ad7bf;   /* regular */
      --green-200:#e0f2ea;   /* habilitada */
      --green-100:#f4fbf8;   /* fondo */
      --green-050:#edf6f2;   /* tarjetas suaves */
      --disabled:#d7e4de;    /* bloqueada */
    }

    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,'Helvetica Neue',Arial,sans-serif;
      background:linear-gradient(180deg,var(--green-100),#ffffff);
      color:#1f2937
    }

    header{
      padding:28px 20px 22px;
      text-align:center
    }
    header h1{
      margin:0 0 8px;
      font-size:1.7rem;
      color:var(--green-900)
    }
    header p{
      margin:0 0 12px;
      color:#4b5563
    }
    .quote{
      display:inline-block;
      padding:8px 14px;
      border-radius:999px;
      background:var(--green-050);
      color:#245c45;
      font-size:.9rem
    }

    .progress{
      max-width:980px;
      margin:10px auto 0;
      padding:0 16px;
      display:flex;
      justify-content:center
    }
    .progress-box{
      background:white;
      border-radius:14px;
      padding:10px 16px;
      box-shadow:0 8px 18px rgba(0,0,0,.06);
      font-weight:600;
      color:#245c45
    }

    main{padding:18px}

    .grid{
      display:grid;
      grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
      gap:18px;
      max-width:1200px;
      margin:0 auto
    }

    .year{
      background:white;
      border-radius:18px;
      box-shadow:0 12px 26px rgba(0,0,0,.08);
      overflow:hidden
    }

    .year h2{
      margin:0;
      padding:14px 18px;
      background:linear-gradient(135deg,var(--green-700),var(--green-900));
      color:white;
      font-size:1.1rem
    }

    .list{
      padding:14px;
      display:grid;
      gap:12px
    }

    .card{
      border-radius:16px;
      padding:12px 14px;
      background:var(--disabled);
      transition:all .25s ease;
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px
    }

    .card.enabled{background:var(--green-200)}
    .card.regular{background:var(--green-400)}
    .card.done{background:var(--green-600); color:#0b3d2e}

    .card h3{
      margin:0;
      font-size:.95rem;
      font-weight:600
    }

    .emoji{margin-right:6px}

    .badge{
      display:inline-block;
      margin-top:4px;
      font-size:.72rem;
      padding:4px 8px;
      border-radius:999px;
      background:#e6f4ee;
      color:#1b5e46
    }

    select{
      border-radius:12px;
      border:1px solid #d1d5db;
      padding:6px 8px;
      background:white
    }

    footer{
      padding:26px 16px;
      text-align:center;
      color:#6b7280;
      font-size:.85rem
    }
  </style>
</head>
<body>

<header>
  <h1>ðŸŒ¿ Mi Malla Â· Profesorado de InglÃ©s</h1>
  <p>MarcÃ¡ materias, mirÃ¡ cÃ³mo se desbloquean y celebrÃ¡ tu progreso</p>
  <span class="quote">Paso a paso tambiÃ©n es avanzar ðŸŒ±</span>
</header>

<div class="progress">
  <div class="progress-box" id="progressBox">Progreso: 0 / 0</div>
</div>

<main>
  <section class="grid" id="app"></section>
</main>

<footer>
  Hecho con ðŸ’š para acompaÃ±arte durante toda la carrera
</footer>

<script>
// ================= DATOS =================
const data = [
  { year:'1Â° AÃ±o', items:[
    {id:'ped', name:'PedagogÃ­a', emoji:'ðŸ§ '},
    {id:'tcd', name:'TeorÃ­a del CurrÃ­culum y DidÃ¡ctica', emoji:'ðŸ“š'},
    {id:'psi', name:'PsicologÃ­a Educativa', emoji:'ðŸ§ '},
    {id:'pca', name:'PsicologÃ­a y Cultura del Alumno', emoji:'ðŸ‘§'},
    {id:'li1', name:'Lengua Inglesa I', emoji:'ðŸ“˜'},
    {id:'gi1', name:'GramÃ¡tica Inglesa I', emoji:'âœï¸'},
    {id:'fd1', name:'FonologÃ­a y DicciÃ³n I', emoji:'ðŸŽ¤'},
    {id:'es1', name:'Estudios Sociales I', emoji:'ðŸŒ'},
    {id:'td1', name:'Taller de Docencia I', emoji:'ðŸŽ“'}
  ]},
  { year:'2Â° AÃ±o', items:[
    {id:'hpe', name:'Historia y PolÃ­tica Educativa', emoji:'ðŸ›ï¸', req:['ped']},
    {id:'ogi', name:'OrganizaciÃ³n y GestiÃ³n Institucional', emoji:'ðŸ«', req:['ped']},
    {id:'psiL', name:'PsicolingÃ¼Ã­stica', emoji:'ðŸ§ ', req:['psi','li1','gi1']},
    {id:'li2', name:'Lengua Inglesa II', emoji:'ðŸ“—', req:['li1']},
    {id:'gi2', name:'GramÃ¡tica Inglesa II', emoji:'âœï¸', req:['gi1','li1']},
    {id:'fd2', name:'FonologÃ­a y DicciÃ³n II', emoji:'ðŸŽ¤', req:['fd1','li1']},
    {id:'es2', name:'Estudios Sociales II', emoji:'ðŸŒ', req:['es1','li1']},
    {id:'lit1', name:'Literatura en Lengua Inglesa I', emoji:'ðŸ“–', req:['li1','es1']},
    {id:'td2', name:'Taller de Docencia II', emoji:'ðŸŽ“', req:['td1']}
  ]},
  { year:'3Â° AÃ±o', items:[
    {id:'fil', name:'FilosofÃ­a', emoji:'ðŸ’­'},
    {id:'eti', name:'Ã‰tica Profesional', emoji:'âš–ï¸'},
    {id:'li3', name:'Lengua Inglesa III', emoji:'ðŸ“˜', req:['li2','gi2','fd2']},
    {id:'fd3', name:'FonologÃ­a y DicciÃ³n III', emoji:'ðŸŽ¤', req:['fd2','li2']},
    {id:'lit2', name:'Literatura en Lengua Inglesa II', emoji:'ðŸ“–', req:['lit1','li2','es2']},
    {id:'ld', name:'LingÃ¼Ã­stica del Discurso', emoji:'ðŸ—£ï¸', req:['li2','gi2','fd2']},
    {id:'de1', name:'DidÃ¡ctica EspecÃ­fica I', emoji:'âœï¸', req:['li2','gi2','fd2','psiL']},
    {id:'edi', name:'EDI', emoji:'âœ¨'},
    {id:'td3', name:'Taller de Docencia III', emoji:'ðŸŽ“', req:['td2']}
  ]},
  { year:'4Â° AÃ±o', items:[
    {id:'eco', name:'ECO I', emoji:'ðŸŒ±', req:['lit2','li3','fd3']},
    {id:'fd4', name:'FonologÃ­a y DicciÃ³n IV', emoji:'ðŸŽ¤', req:['fd3']},
    {id:'li4', name:'Lengua Inglesa IV', emoji:'ðŸ“•', req:['li3']},
    {id:'sis', name:'Seminario de IntegraciÃ³n y SÃ­ntesis', emoji:'ðŸ§©', req:['td1','td2','td3']},
    {id:'td4', name:'Taller de Docencia IV', emoji:'ðŸŽ“', req:['td3']}
  ]}
];

// ================= ESTADO =================
const state = JSON.parse(localStorage.getItem('malla-state')||'{}');
const setState = (id,val)=>{state[id]=val; localStorage.setItem('malla-state',JSON.stringify(state)); render();};
const isDone = id => state[id]==='Aprobada';

// ================= LÃ“GICA =================
const enabled = item => !item.req || item.req.every(r=>isDone(r));

// ================= RENDER =================
const app = document.getElementById('app');
const progressBox = document.getElementById('progressBox');

function render(){
  app.innerHTML='';
  let total = 0;
  let done = 0;

  data.forEach(block=>{
    const y = document.createElement('section'); y.className='year';
    y.innerHTML = `<h2>${block.year}</h2>`;
    const list = document.createElement('div'); list.className='list';

    block.items.forEach(it=>{
      total++;
      if(isDone(it.id)) done++;

      const en = enabled(it);
      const card = document.createElement('div');
      card.className = 'card ' + (en?'enabled':'') + (state[it.id]==='Regular'?' regular':'') + (isDone(it.id)?' done':'');

      card.innerHTML = `
        <div>
          <h3><span class="emoji">${it.emoji}</span>${it.name}</h3>
          ${it.req?`<span class="badge">ðŸ”“ Requiere: ${it.req.join(', ')}</span>`:''}
        </div>
        <div>
          <select ${en?'':'disabled'}>
            <option value=""></option>
            <option ${state[it.id]==='Pendiente'?'selected':''}>Pendiente</option>
            <option ${state[it.id]==='Regular'?'selected':''}>Regular</option>
            <option ${state[it.id]==='Aprobada'?'selected':''}>Aprobada</option>
          </select>
        </div>`;

      card.querySelector('select').addEventListener('change',e=>setState(it.id,e.target.value));
      list.appendChild(card);
    });

    y.appendChild(list);
    app.appendChild(y);
  });

  progressBox.textContent = `Progreso: ${done} / ${total} materias aprobadas ðŸŒ¿`;
}

render();
</script>
</body>
</html>
